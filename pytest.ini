# Configuración de pytest
[tool:pytest]
testpaths = e2e_test
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --html=e2e_test/reports/report.html
    --self-contained-html
    --junit-xml=e2e_test/reports/junit.xml
    --cov=e2e_test
    --cov-report=html:e2e_test/reports/coverage
    --cov-report=term-missing

# Marcadores personalizados
markers =
    smoke: marca tests como smoke tests (críticos)
    regression: marca tests como regression tests (completos)
    ui: marca tests como tests de interfaz de usuario
    api: marca tests como tests de API
    auth: marca tests relacionados con autenticación
    cart: marca tests relacionados con carrito de compras
    checkout: marca tests relacionados con proceso de compra
    search: marca tests relacionados con búsqueda
    admin: marca tests relacionados con funcionalidad de admin
    security: marca tests relacionados con seguridad
    performance: marca tests relacionados con rendimiento
    accessibility: marca tests relacionados con accesibilidad
    mobile: marca tests para dispositivos móviles
    slow: marca tests que tardan más tiempo en ejecutarse

# Configuración de logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Configuración de captura de salida
capture = no

# Configuración de paralelización (si se usa pytest-xdist)
# addopts = -n auto

# Configuración de timeout
timeout = 300

# Configuración de marcadores de xfail
xfail_strict = true

# Configuración de fixture scope
# Por defecto, usar function scope para isolation completo

# Configuración de warnings
filterwarnings =
    ignore::UserWarning
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Configuración de minimum version
minversion = 6.0

# Configuración de required plugins
required_plugins = 
    pytest-html
    pytest-cov
    pytest-xdist
    pytest-timeout
