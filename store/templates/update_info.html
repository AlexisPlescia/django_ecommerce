{% extends 'base.html' %}
{% block content %}

<!-- Header con imagen de armas -->
<header class="py-4" style="
    background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1595590424283-b8f17842773f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2141&q=80');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    min-height: 30vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
">
    <div class="container px-4 px-lg-5">
        <div class="text-center text-white">
            <h1 class="display-4 fw-bolder" style="color: #ffffff !important; text-shadow: 3px 3px 8px rgba(0,0,0,0.8);">Actualizar Información</h1>
            <p class="lead fw-normal mb-0" style="color: #f8f9fa !important; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">Modifica tus datos de facturación</p>
        </div>
    </div>
</header>

<!-- Section -->
<section class="py-5">
    <div class="container px-4 px-lg-5">
        <div class="row justify-content-center">
            <div class="col-lg-8 col-md-10">
                <div class="card shadow">
                    <div class="card-header bg-dark text-white text-center">
                        <h4 class="mb-0"><i class="fas fa-shipping-fast"></i> Información de Envío</h4>
                    </div>
                    <div class="card-body p-4">
                        
                        <!-- Mostrar email del usuario actual -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <div class="alert alert-info">
                                    <strong><i class="fas fa-envelope"></i> Correo Electrónico:</strong> {{ user.email }}
                                </div>
                            </div>
                        </div>

                        <form method="POST" action="{% url 'update_info' %}">
                            {% csrf_token %}
                            
                            <div class="row">
                                <div class="col-12 mb-3">
                                    <label for="id_full_name" class="form-label">Nombre Completo</label>
                                    <input type="text" class="form-control" id="id_full_name" name="full_name" 
                                           value="{% if user.first_name %}{{ user.first_name }} {{ user.last_name }}{% endif %}" 
                                           placeholder="Tu nombre completo" required>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-12 mb-3">
                                    {{ form.address1.label_tag }}
                                    {{ form.address1 }}
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    {{ form.city.label_tag }}
                                    {{ form.city }}
                                </div>
                                <div class="col-md-6 mb-3">
                                    {{ form.state.label_tag }}
                                    {{ form.state }}
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    {{ form.zipcode.label_tag }}
                                    {{ form.zipcode }}
                                </div>
                            </div>

                            <div class="d-grid">
                                <button type="submit" class="btn btn-dark btn-lg">
                                    <i class="fas fa-save"></i> Actualizar Información de Envío
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}